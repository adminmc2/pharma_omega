<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#FBF8FF">
    <title>Puro Omega</title>
    <!-- Tipografías corporativas -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;600;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Material Symbols (M3) -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-25..200&display=swap">
    <!-- Estilos -->
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%2331BEEF'/%3E%3C/svg%3E">
</head>
<body>
    <div class="app-container">
        <!-- ============================================
             PANTALLA DE BIENVENIDA
             ============================================ -->
        <main class="main-content welcome-screen" id="welcome-screen">
            <!-- Header con perfil e iconos -->
            <div class="header-row">
                <button class="profile-btn" id="profile-btn" title="Mi cuenta">
                    <img src="https://api.dicebear.com/7.x/lorelei/svg?seed=Armando&backgroundColor=c0aede" alt="Perfil" class="profile-img">
                </button>
                <div class="header-actions">
                    <button class="header-icon-btn" id="faq-btn" title="Preguntas frecuentes">
                        <span class="material-symbols-rounded">help</span>
                    </button>
                    <button class="header-icon-btn" id="catalog-btn" title="Catálogos">
                        <span class="material-symbols-rounded">menu_book</span>
                    </button>
                </div>
            </div>

            <!-- Saludo -->
            <div class="greeting-section">
                <h1 class="greeting-title">Hola, Armando <span class="material-symbols-rounded wave">waving_hand</span></h1>
            </div>

            <!-- Bento Card Grid -->
            <div class="bento-grid">
                <!-- Card 1: Estado de ánimo (tall, izquierda) -->
                <button class="bento-card bento-card--mood" id="mood-card">
                    <svg class="mood-face" viewBox="0 0 100 100" aria-hidden="true">
                        <ellipse cx="32" cy="42" rx="12" ry="11" fill="currentColor"/>
                        <ellipse cx="68" cy="42" rx="12" ry="11" fill="currentColor"/>
                        <path d="M42 68 Q50 78 58 68" stroke="currentColor" stroke-width="4" stroke-linecap="round" fill="none"/>
                    </svg>
                    <span class="bento-card__title">¿Cómo te encuentras hoy?</span>
                </button>

                <!-- Card 2: Orb + Voice (derecha arriba) -->
                <button class="bento-card bento-card--voice" id="orb-card">
                    <div id="orb-container" class="orb-container"></div>
                    <span class="bento-card__title">Habla conmigo</span>
                </button>

                <!-- Card 3: Plan diario (derecha abajo) -->
                <button class="bento-card bento-card--plan" id="plan-card">
                    <svg class="plan-icon" viewBox="0 0 100 100" aria-hidden="true">
                        <!-- Clipboard base -->
                        <rect x="18" y="20" width="64" height="72" rx="10" ry="10" fill="none" stroke="currentColor" stroke-width="5"/>
                        <!-- Clip top -->
                        <rect x="34" y="12" width="32" height="16" rx="6" ry="6" fill="currentColor" opacity="0.5"/>
                        <!-- Check lines -->
                        <line x1="32" y1="48" x2="48" y2="48" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
                        <line x1="32" y1="64" x2="54" y2="64" stroke="currentColor" stroke-width="5" stroke-linecap="round"/>
                        <line x1="32" y1="78" x2="42" y2="78" stroke="currentColor" stroke-width="5" stroke-linecap="round" opacity="0.4"/>
                        <!-- Checkmark -->
                        <polyline points="58,44 64,50 76,38" fill="none" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span class="bento-card__title">Mi plan diario y semanal</span>
                </button>
            </div>

            <!-- Barra de búsqueda -->
            <div class="search-container">
                <button class="search-icon-btn" title="Buscar">
                    <span class="material-symbols-rounded">search</span>
                </button>
                <input
                    type="text"
                    id="message-input"
                    class="search-input"
                    placeholder="Busca lo que quieras..."
                    autocomplete="off"
                >
            </div>

            <!-- Preguntas Frecuentes por Agente -->
            <section class="faq-section" id="faq-section">
                <h2 class="faq-section__title">Preguntas frecuentes</h2>
                <p class="faq-section__desc">Cada tema es atendido por un agente especializado. Elige una categoría para encontrar respuestas rápidas.</p>

                <!-- Productos -->
                <div class="faq-category">
                    <h3 class="faq-category__label">
                        <span class="material-symbols-rounded">inventory_2</span>
                        Productos
                    </h3>
                    <div class="faq-chips">
                        <button class="faq-chip" data-question="¿Qué producto de Omega-3 es mejor para cardiología?">Mejor Omega-3 cardiología</button>
                        <button class="faq-chip" data-question="¿Cuál es la diferencia entre Natural DHA y Puro EPA?">DHA vs EPA</button>
                        <button class="faq-chip" data-question="¿Qué dosis de Omega-3 se recomienda para embarazadas?">Dosis embarazadas</button>
                        <button class="faq-chip" data-question="¿Qué es el Omega-3 Index y cómo funciona?">Omega-3 Index</button>
                    </div>
                </div>

                <!-- Objeciones -->
                <div class="faq-category">
                    <h3 class="faq-category__label">
                        <span class="material-symbols-rounded">shield</span>
                        Objeciones
                    </h3>
                    <div class="faq-chips">
                        <button class="faq-chip" data-question="Un médico dice que los suplementos de Omega-3 son muy caros, ¿cómo respondo?">El médico dice que es caro</button>
                        <button class="faq-chip" data-question="¿Cómo respondo si el médico dice que los suplementos no funcionan?">Dice que no funcionan</button>
                        <button class="faq-chip" data-question="¿Los productos de Puro Omega tienen riesgo de metales pesados?">Metales pesados</button>
                        <button class="faq-chip" data-question="¿Por qué elegir Puro Omega sobre otras marcas de Omega-3?">¿Por qué no otra marca?</button>
                    </div>
                </div>

                <!-- Argumentos de venta -->
                <div class="faq-category">
                    <h3 class="faq-category__label">
                        <span class="material-symbols-rounded">trending_up</span>
                        Argumentos de venta
                    </h3>
                    <div class="faq-chips">
                        <button class="faq-chip" data-question="¿Cómo presento Puro Omega a un cardiólogo?">Presentar a cardiólogo</button>
                        <button class="faq-chip" data-question="¿Cuáles son los argumentos clave para vender a un ginecólogo?">Argumentos ginecólogo</button>
                        <button class="faq-chip" data-question="¿Cuál es el perfil de paciente ideal para Pro-Resolving Mediators?">Perfil paciente PRM</button>
                        <button class="faq-chip" data-question="¿Qué ventajas tiene la forma rTG sobre el etil éster?">Ventajas forma rTG</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- ============================================
             PANTALLA DE CHAT
             ============================================ -->
        <main class="chat-screen hidden" id="chat-screen">
            <!-- Header del chat -->
            <div class="chat-header">
                <button class="back-btn" id="back-btn" title="Volver">
                    <span class="material-symbols-rounded">arrow_back</span>
                </button>
                <div class="chat-title">
                    <span class="chat-title-text">Puro Omega</span>
                    <span class="chat-status" id="chat-status">En línea</span>
                </div>
                <div class="header-actions">
                    <button class="header-icon-btn" id="chat-faq-btn" title="Preguntas frecuentes">
                        <span class="material-symbols-rounded">help</span>
                    </button>
                </div>
            </div>

            <!-- Mensajes del chat -->
            <div class="chat-messages" id="chat-messages">
                <!-- Los mensajes se añaden dinámicamente -->
            </div>

            <!-- Orb flotante mini -->
            <button class="orb-floating hidden" id="orb-floating" title="Toca para hablar">
                <div id="orb-container-mini" class="orb-container-mini"></div>
            </button>

            <!-- Input del chat -->
            <div class="chat-input-container">
                <input
                    type="text"
                    id="chat-input"
                    class="chat-input"
                    placeholder="Escribe un mensaje..."
                    autocomplete="off"
                >
                <button class="chat-mic-btn" id="chat-mic-btn" title="Micrófono">
                    <span class="material-symbols-rounded">mic</span>
                </button>
                <button class="chat-send-btn" id="chat-send-btn" title="Enviar">
                    <span class="material-symbols-rounded">send</span>
                </button>
            </div>
        </main>

        <!-- ============================================
             PANTALLA DE PLAN
             ============================================ -->
        <main class="plan-screen hidden" id="plan-screen">
            <!-- Header del plan -->
            <div class="plan-header">
                <button class="back-btn" id="plan-back-btn" title="Volver">
                    <span class="material-symbols-rounded">arrow_back</span>
                </button>
                <div class="plan-header__title">
                    <span class="plan-header__text">Tu plan, Armando</span>
                    <span class="plan-header__subtitle">Organiza tu día a día</span>
                </div>
            </div>

            <!-- Contenido scrollable -->
            <div class="plan-body">
                <!-- Filtro Overview -->
                <div class="plan-overview-filter">
                    <button class="plan-filter-chip active" data-filter="hoy">Hoy</button>
                    <button class="plan-filter-chip" data-filter="semana">Esta semana</button>
                    <button class="plan-filter-chip" data-filter="quincena">Esta quincena</button>
                </div>

                <!-- Grid de estadísticas -->
                <div class="plan-stats-grid">
                    <div class="plan-stat-card plan-stat--in-progress">
                        <span class="plan-stat__number" id="stat-in-progress">3</span>
                        <svg class="plan-stat__sparkline" viewBox="0 0 60 24" aria-hidden="true">
                            <polyline points="0,18 10,12 20,16 30,8 40,14 50,6 60,10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="plan-stat__label">En proceso</span>
                        <span class="material-symbols-rounded plan-stat__arrow">chevron_right</span>
                    </div>
                    <div class="plan-stat-card plan-stat--todo">
                        <span class="plan-stat__number" id="stat-todo">5</span>
                        <svg class="plan-stat__sparkline" viewBox="0 0 60 24" aria-hidden="true">
                            <polyline points="0,10 10,14 20,8 30,18 40,12 50,16 60,6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="plan-stat__label">Por hacer</span>
                        <span class="material-symbols-rounded plan-stat__arrow">chevron_right</span>
                    </div>
                    <div class="plan-stat-card plan-stat--overdue">
                        <span class="plan-stat__number" id="stat-overdue">2</span>
                        <svg class="plan-stat__sparkline" viewBox="0 0 60 24" aria-hidden="true">
                            <polyline points="0,6 10,10 20,14 30,12 40,18 50,16 60,20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="plan-stat__label">Retrasadas</span>
                        <span class="material-symbols-rounded plan-stat__arrow">chevron_right</span>
                    </div>
                    <div class="plan-stat-card plan-stat--projects">
                        <span class="plan-stat__number" id="stat-projects">3</span>
                        <svg class="plan-stat__sparkline" viewBox="0 0 60 24" aria-hidden="true">
                            <polyline points="0,14 10,8 20,12 30,6 40,10 50,8 60,4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="plan-stat__label">Proyectos</span>
                        <span class="material-symbols-rounded plan-stat__arrow">chevron_right</span>
                    </div>
                    <div class="plan-stat-card plan-stat--total">
                        <span class="plan-stat__number" id="stat-total">13</span>
                        <svg class="plan-stat__sparkline" viewBox="0 0 60 24" aria-hidden="true">
                            <polyline points="0,16 10,10 20,14 30,8 40,6 50,12 60,4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="plan-stat__label">Total tareas</span>
                        <span class="material-symbols-rounded plan-stat__arrow">chevron_right</span>
                    </div>
                </div>

                <!-- Sección Tareas -->
                <div class="plan-tasks-section">
                    <h2 class="plan-tasks__title">Tareas</h2>

                    <!-- Filtros de tareas -->
                    <div class="plan-tasks-filters">
                        <select class="plan-tasks-filter" id="filter-project">
                            <option value="all">Todos los proyectos</option>
                            <option value="visitas">Visitas médicas</option>
                            <option value="formacion">Formación</option>
                            <option value="admin">Administración</option>
                        </select>
                        <select class="plan-tasks-filter" id="filter-time">
                            <option value="hoy">Hoy</option>
                            <option value="semana">Esta semana</option>
                            <option value="quincena">Esta quincena</option>
                        </select>
                        <select class="plan-tasks-filter" id="filter-status">
                            <option value="all">Todos los estados</option>
                            <option value="in_progress">En proceso</option>
                            <option value="todo">Por hacer</option>
                            <option value="overdue">Retrasadas</option>
                            <option value="done">Completadas</option>
                        </select>
                    </div>

                    <!-- Lista de tareas — se renderiza dinámicamente desde JS -->
                    <div class="plan-tasks-list" id="plan-tasks-list"></div>
                </div>
            </div>

            <!-- Bottom Navigation Bar -->
            <nav class="plan-bottom-nav">
                <button class="plan-nav-btn active" id="nav-home" title="Inicio">
                    <span class="material-symbols-rounded">home</span>
                    <span class="plan-nav-btn__label">Inicio</span>
                </button>
                <button class="plan-nav-btn" id="nav-chat" title="Chat" disabled>
                    <span class="material-symbols-rounded">chat_bubble</span>
                    <span class="plan-nav-btn__label">Chat</span>
                </button>
                <button class="plan-nav-btn plan-nav-btn--orb" id="nav-orb" title="Hablar">
                    <div id="orb-container-nav" class="orb-container-nav"></div>
                </button>
                <button class="plan-nav-btn" id="nav-list" title="Lista" disabled>
                    <span class="material-symbols-rounded">list_alt</span>
                    <span class="plan-nav-btn__label">Lista</span>
                </button>
                <button class="plan-nav-btn" id="nav-calendar" title="Calendario" disabled>
                    <span class="material-symbols-rounded">calendar_month</span>
                    <span class="plan-nav-btn__label">Calendario</span>
                </button>
            </nav>
        </main>

        <!-- ============================================
             MOOD SELECTOR OVERLAY
             ============================================ -->
        <div class="mood-overlay hidden" id="mood-overlay" role="dialog" aria-modal="true" aria-labelledby="mood-question">
            <!-- Top bar -->
            <div class="mood-overlay__topbar">
                <button class="mood-overlay__close" id="mood-close-btn" title="Cerrar" aria-label="Cerrar">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                        <line x1="6" y1="6" x2="18" y2="18"/>
                        <line x1="18" y1="6" x2="6" y2="18"/>
                    </svg>
                </button>
                <button class="mood-overlay__info" id="mood-info-btn" title="Información" aria-label="Información">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="16" x2="12" y2="12"/>
                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                    </svg>
                </button>
            </div>

            <!-- Pregunta -->
            <h2 class="mood-overlay__question" id="mood-question">¿Cómo te encuentras hoy?</h2>

            <!-- Cara animada grande -->
            <div class="mood-overlay__face-container">
                <svg class="mood-overlay__face" id="mood-face-svg" viewBox="0 0 100 100" aria-hidden="true">
                    <ellipse id="mood-eye-left" cx="32" cy="42" rx="12" ry="11" fill="currentColor"/>
                    <ellipse id="mood-eye-right" cx="68" cy="42" rx="12" ry="11" fill="currentColor"/>
                    <path id="mood-mouth" d="M42 68 Q50 78 58 68" stroke="currentColor" stroke-width="4" stroke-linecap="round" fill="none"/>
                </svg>
            </div>

            <!-- Label del mood -->
            <span class="mood-overlay__label" id="mood-label">BIEN</span>

            <!-- Slider -->
            <div class="mood-overlay__slider-container">
                <div class="mood-overlay__slider-track">
                    <input
                        type="range"
                        id="mood-slider"
                        class="mood-overlay__slider"
                        min="0"
                        max="100"
                        value="100"
                        step="1"
                    >
                </div>
                <div class="mood-overlay__slider-labels">
                    <span class="mood-overlay__slider-endpoint">Mal</span>
                    <span class="mood-overlay__slider-endpoint">No muy bien</span>
                    <span class="mood-overlay__slider-endpoint">Bien</span>
                </div>
            </div>

            <!-- Enviar -->
            <button class="mood-overlay__submit" id="mood-submit-btn">Enviar</button>

            <!-- Reacción AI -->
            <p class="mood-overlay__reaction" id="mood-reaction"></p>
        </div>
    </div>

    <!-- Orb 3D Canvas -->
    <script src="/static/orb.js"></script>
    <script src="/static/app.js"></script>
</body>
</html>
